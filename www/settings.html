<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>mobylet</title>
<meta http-equiv="Content-Language" content="ja" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta name="description" content="モバイルWebアプリケーション構築Javaフレームワーク | mobylet" />
<meta name="keywords" content="携帯,モバイル,Java,OSS,mobylet" />
<script src="js/rollover.js" type="text/javascript"></script>
<link href="css/style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<!-- ↓wrapperArea -->

<div id="wrapper">
<!-- ↓headerArea -->
	<div id="header" class="container">
		<h1><a id="logo" href="index.html" title="mobylet">mobylet</a></h1>
	</div>
<!-- ↑headerArea -->
<!-- ↓glovalNaviArea -->
	<div id="globalNavi" class="container">
		<ul id="mainmenu" class="container">
			<li><a href="firsttimer.html" title="初めての方へ"><img src="img/globalnavi/bg.gif" alt="初めての方へ" title="初めての方へ" class="imgover"/></a></li>
			<li><img src="img/globalnavi/st_o.gif" alt="セットアップ" title="セットアップ"/></li>
			<li><a href="function.html"><img src="img/globalnavi/ft.gif" alt="機能リファレンス" title="機能リファレンス" class="imgover"/></a></li>
			<li><a href="download.html"><img src="img/globalnavi/dl.gif" alt="ダウンロード" title="ダウンロード" class="imgover"/></a></li>
			<li><a href="information.html"><img src="img/globalnavi/if.gif" alt="インフォメーション" title="インフォメーション" class="imgover"/></a></li>
		</ul>
	</div>
<!-- ↑glovalNaviArea -->
<!-- ↓contentsArea -->
	<div id="contents" class="container">
		<div id="leftcontents">
			<div id="uppercontents">
				<h2 class="green">Settings</h2>
				<p>
mobyletは特定のアプリケーションサーバやコンテナに依存していないため、<br/>
最小限の構成で動作させる場合わずか３ステップで設定完了です。
				</p>
				<ul class="ts">
					<li>１．<a href="#download">ダウンロード</a></li>
					<li>２．<a href="#charset">mobylet用文字コード設定</a></li>
					<li>３．<a href="#webxml">web.xmlの設定</a></li>
				</ul>
				<p class="ts">
これだけでキャリアの判別や、絵文字の使用ができるようになります。<br/>
<br/>
画像のリサイズやGPS情報の取得など、端末に依存する機能を利用する場合は
				</p>
				<h3 class="green" id="download">ダウンロード</h3>
				<p>
<a href="./download.html">ダウンロードのページ</a>から、最新版のzipファイルをダウンロードして、<br/>
mobylet-charset-xxx.jar以外をWEB-INF/libに配置します。<br/>
<br/>
mobylet-charset-xxx.jarは、アプリケーションサーバの<br/>
実行ユーザが読み込み可能なディレクトリに配置してください。
				</p>

				<h3 class="green" id="charset">mobylet用文字コードの設定</h3>
				<p>
mobyletの文字コード変換処理を有効にするために、<br/>
アプリケーションサーバーの起動引数でJVMエクステンションディレクトリを設定します。<br/>
<br/>
Tomcatの場合は${CATALINA_HOME}/bin配下にsetenv.sh又はsetenv.batを作成し、
				</p>
				<pre class="code">
Linuxの場合
CATALINA_OPTS=-Djava.ext.dirs=${mobylet-charset-xxx.jarを配置したディレクトリ}

Windowsの場合
set CATALINA_OPTS=-Djava.ext.dirs=${mobylet-charset-xxx.jarを配置したディレクトリ}
				</pre>
				<p>
と記述します。<br/>
<br/>
Eclipse上で設定する場合「ウィンドウ」→「設定」→「Tomcat」→「JVM設定」から「JVMパラメータへ追加」で設定します。
				</p>
				<img src="img/setting_charset.gif" alt="JVM設定"/>
				<p class="ts">
上記の方法以外にも、規定のJVMエクステンションディレクトリにmobylet-charset-xxx.jarを配置する方法もあります。
				</p>
				<h3 class="green" id="webxml">web.xmlの設定</h3>
				<p>リクエストの文字コードを設定するため、mobyletのFilterをfilterタグの先頭に記述します。</p>
<pre class="code">
&lt;filter&gt;
	&lt;filter-name&gt;mobyletfilter&lt;/filter-name&gt;
	&lt;filter-class&gt;org.mobylet.core.http.MobyletFilter&lt;/filter-class&gt;
&lt;/filter&gt;

&lt;filter-mapping&gt;
	&lt;filter-name&gt;mobyletfilter&lt;/filter-name&gt;
	&lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;
</pre>
				<h3 class="green" id="deviceupdate">機種情報の更新</h3>
				<p>
mobylet-core-xxx.jarには機種情報のCSVファイルが<br/>
同梱されていますが、最新の機種情報と差異がある場合があります。<br/>
最新の機種情報は<a href="http://valueengine.jp/index.html" title="株式会社バリューエンジン">株式会社バリューエンジン社のサイト</a>から取得してください。
<br/>
取得した機種情報ファイルのファイル名を次のように変更し、
				<pre class="code">
ProfileData_YYYY-MM-DD.csv → ProfileData.csv
UserAgent_YYYY-MM-DD.csv → UserAgent.csv
DisplayInfo_YYYY-MM-DD.csv → DisplayInfo.csv</pre>
クラスパス配下に「device」ディレクトリを作成して配置してください。
				</p>

				<h3 class="green" id="taglib">taglibの使用</h3>
				<p>
JSPの先頭にmobyletのtaglibディレクティブを指定します。
				</p>
<pre class="code">
&lt;%@ taglib prefix="m" uri="http://taglibs.mobylet.org/" %&gt;
</pre>
				<p class="fgRed">※prefixは「m」を推奨していますが、既存のprefixと重複する場合は適切なprefixに変更してください。</p>
			</div>
			<div id="undercontents">
			</div>
		</div>
		<div id="rightcontents">
			<div class="submenu">
				<p>基本設定</p>
				<ul>
					<li><a href="#download">ダウンロード</a></li>
					<li><a href="#charset">mobylet用文字コード設定</a></li>
					<li><a href="#webxml">web.xmlの設定</a></li>
				</ul>
				<p class="ts">追加設定</p>
				<ul>
					<li><a href="#deviceupdate">機種情報の更新</a></li>
					<li><a href="#taglib">taglibの使用</a></li>
				</ul>
			</div>
		</div>
	</div>
<!-- ↑contentsArea -->
<!-- ↓footerArea -->
	<div id="footer">
		<div id="copyright">&copy; Copyright The Seasar Foundation and the others 2006, all rights reserved.</div>
	</div>
<!-- ↑footerArea -->
</div>
<!-- ↑wrapperArea -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-9308763-1");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>
